<md-sidenav-container>

  <md-sidenav class="quickpanel" [opened]="quickpanelOpen" align="end" mode="over" #quickpanel>

    <ms-quickpanel></ms-quickpanel>

  </md-sidenav>

  <md-sidenav class="sidenav" [opened]="sidenavOpen" align="start" [mode]="sidenavMode" msIconSidenav   #sidenav>
      <ms-sidenav></ms-sidenav>
    
  </md-sidenav> 
  
    
  <md-toolbar class="main-toolbar mat-elevation-z2">
    <div fxHide="false" fxHide.gt-sm>
      <button (click)="sidenav.open()" md-icon-button>
        <md-icon>menu</md-icon>
      </button>
    </div>

    <ms-breadcrumbs fxHide="true" fxHide.gt-sm="false"></ms-breadcrumbs>

    <span fxFlex></span>

    <button fxHide="true" fxHide.gt-sm="false" md-button class="fullscreen-toggle" (click)="toggleFullscreen()">
      <md-icon *ngIf="!isFullscreen">fullscreen</md-icon>
      <md-icon *ngIf="isFullscreen">fullscreen_exit</md-icon>
    </button>

    <ms-search></ms-search>

    <button class="user-button" md-button [mdMenuTriggerFor]="menu">
      <div fxLayout="row" fxLayoutAlign="start center">
        <img src="assets/img/avatars/noavatar.png" class="avatar-flex"/>
        <span fxHide="true" fxHide.gt-sm="false" style="font-weight: 500; margin-left: 5px;">David Smith</span>
        <md-icon fxHide="true" fxHide.gt-sm="false">keyboard_arrow_down</md-icon>
      </div>
    </button>


    <button md-button class="quickpanel-toggle" (click)="quickpanel.open()">
      <md-icon>format_align_right</md-icon>
    </button>


    <md-menu class="user-menu" x-position="before" y-position="below" #menu="mdMenu">
      <button md-menu-item>
        <md-icon>account_circle</md-icon>
        <span>Profile</span>
      </button>
      <button md-menu-item>
        <md-icon>settings</md-icon>
        <span>Settings</span>
      </button>
      <button md-menu-item>
        <md-icon>help</md-icon>
        <span>Help</span>
      </button>
      <md-divider></md-divider>
      <button [routerLink]="['/login']" md-menu-item>
        <md-icon>exit_to_app</md-icon>
        <span>Logout</span>
      </button>
    </md-menu>
  </md-toolbar>

  <div class="main-container" #scrollContainer>
    <div #row class="row">
      <div #col4 class="col-md-4" style="height: 1000px;display: none;z-index: 6000;background-color: #272b35;">
        <div style="color:#a6a8ad;height: 100%;padding-bottom: 100%;margin-bottom: 100%">
          <div class="row" style="height: 100%">
            <div class="col-md-6">
              <div *ngFor="let item of subItems">
                <span *ngIf="item.position%2 != 0">
                  <h1>{{item.name}}</h1>
                  <div *ngFor="let subitem of item.subItems">
                    <span>{{subitem.name}}</span>
                    <div *ngFor="let subsubitem of subitem.subItems">
                      <span>{{subsubitem.name}}</span>  
                    </div>  
                  </div>
                </span>
                    
              </div>
            </div>
            <div class="col-md-6">
              <div *ngFor="let item of subItems">
                <span *ngIf="item.position%2 == 0">
                  <h1>{{item.name}}</h1>
                  <div *ngFor="let subitem of item.subItems">
                    <span *ngIf="subitem.parent == item">{{subitem.name}}</span> 
                    <div *ngFor="let subsubitem of subitem.subItems">
                      <span>{{subsubitem.name}}</span>  
                    </div> 
                  </div>
                </span>  
              </div>
            </div>
          </div>
            <!-- <li *ngFor="let item of subItems">
              {{item.name}}
              <ul>
                <li *ngFor="let item2 of item.subItems">{{item2.name}}</li>
              </ul>
            </li> -->
          
        </div>
      </div>
      <div #col8 style="padding: 0px;" class="col-md-8">
        <router-outlet (activate)="onActivate($event, scrollContainer)"></router-outlet>    
      </div>
    </div>
  </div>

</md-sidenav-container>
